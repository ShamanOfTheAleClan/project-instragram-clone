{"version":3,"sources":["custom.js"],"names":["profilePage","document","getElementById","optionsCloseBtn","optionsOpenBtn","optionsWindow","addEventListener","style","display","removeProperty","registerPage","registerUser","username","value","email","password","body","fetch","method","JSON","stringify","headers","Content-Type","then","header","console","log","status","json","alert","response","window","location","href","catch","e","loginPage","login","ok","Error","token","get","localStorage","setItem","commentsPage"],"mappings":"AACA,MAAAA,YAAAC,SAAAC,eAAA,gBAEA,GAAAF,YAAA,CACA,MAAAG,EAAAF,SAAAC,eAAA,mBACAE,EAAAH,SAAAC,eAAA,kBACAG,EAAAJ,SAAAC,eAAA,iBAEAC,EAAAG,iBAAA,QAAA,KACAD,EAAAE,MAAAC,QAAA,SAGAJ,EAAAE,iBAAA,QAAA,KACAD,EAAAE,MAAAE,eAAA,aAOA,MAAAC,aAAAT,SAAAC,eAAA,gBAEA,GAAAQ,aAAA,CACA,MAEAC,EAAA,KACA,IAAAC,EAAAX,SAAAC,eAAA,oBAAAW,MACAC,EAAAb,SAAAC,eAAA,iBAAAW,MACAE,EAAAd,SAAAC,eAAA,oBAAAW,MAGA,GAAAE,IAFAd,SAAAC,eAAA,qBAAAW,MAEA,CAEA,IAAAG,EAAA,CACAD,SAAAA,EACAH,SAAAA,EACAE,MAAAA,GAEAG,MAAA,gDAAA,CACAC,OAAA,OACAF,KAAAG,KAAAC,UAAAJ,GACAK,QAAA,CACAC,eAAA,sBAEAC,KAAAC,IAEA,GADAC,QAAAC,IAAAF,GACA,KAAAA,EAAAG,OACA,OAAAH,EAAAI,OAEAC,MAAA,yBAEAN,KAAAO,IACAA,IAEAC,OAAAC,SAAAC,KAAA,yBAEAC,MAAAC,IACAV,QAAAC,IAAAS,OAlCAlC,SAAAC,eAAA,qBAuCAI,iBAAA,QAAAK,GAMA,MAAAyB,UAAAnC,SAAAC,eAAA,aAEA,GAAAkC,UAAA,CACA,MAAAC,EAAA,KACA,IAAAvB,EAAAb,SAAAC,eAAA,cAAAW,MACAE,EAAAd,SAAAC,eAAA,iBAAAW,MACAY,QAAAC,IAAA,QAAAZ,EAAA,WAAAC,GACA,IAAAC,EAAA,CACAF,MAAAA,EACAC,SAAAA,GAEAE,MAAA,6CAAA,CACAC,OAAA,OACAF,KAAAG,KAAAC,UAAAJ,GACAK,QAAA,CACAC,eAAA,sBAEAC,KAAAC,IAGA,GAFAC,QAAAC,IAAAF,IAEAA,EAAAc,GACA,MAAAC,MAAAf,GAGA,IAAAgB,EAAAhB,EAAAH,QAAAoB,IAAA,UACAC,aAAAC,QAAA,SAAAH,GACAf,QAAAC,IAAAc,KACAjB,KAAAO,IAEAC,OAAAC,SAAAC,KAAA,wBACAC,MAAAC,IACAV,QAAAC,IAAAS,MAOAlC,SAAAC,eAAA,kBAEAI,iBAAA,QAAA+B,GAMA,MAAAO,aAAA3C,SAAAC,eAAA,gBAEA,GAAA0C,aAAA,CACA3C,SAAAC,eAAA,mBAEAI,iBAAA,QAAA,KACAyB,OAAAC,SAAAC,KAAA","file":"prod.js","sourcesContent":["// Profile page -> Options\r\nconst profilePage = document.getElementById('profile-page');\r\n\r\nif (!!profilePage) {\r\n    const optionsCloseBtn = document.getElementById('optionsCloseBtn');\r\n    const optionsOpenBtn = document.getElementById('optionsOpenBtn');\r\n    const optionsWindow = document.getElementById('optionsWindow');\r\n\r\n    optionsCloseBtn.addEventListener('click', () => {\r\n        optionsWindow.style.display = 'none';\r\n    });\r\n\r\n    optionsOpenBtn.addEventListener('click', () => {\r\n        optionsWindow.style.removeProperty('display');\r\n    });\r\n}\r\n\r\n\r\n\r\n// Register page\r\nconst registerPage = document.getElementById('registerPage');\r\n\r\nif (!!registerPage) {\r\n    const registerBtn = document.getElementById('registerSubmitBtn');\r\n\r\n    const registerUser = () => {\r\n        let username = document.getElementById('registerUsername').value;\r\n        let email = document.getElementById('registerEmail').value;\r\n        let password = document.getElementById('registerPassword').value;\r\n        let rPassword = document.getElementById('registerRPassword').value;\r\n\r\n        if (password === rPassword) {\r\n\r\n            let body = {\r\n                password: password,\r\n                username: username,\r\n                email: email\r\n            }\r\n            fetch('http://localhost:3000/instagram/user/register', {\r\n                method: 'POST',\r\n                body: JSON.stringify(body),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }).then((header) => {\r\n                console.log(header);\r\n                if (header.status == 200) {\r\n                    return header.json();\r\n                } else {\r\n                    alert('Registration failed')\r\n                }\r\n            }).then((response) => {\r\n                if (response) {\r\n                    // alert('Registration successful')\r\n                    window.location.href = '../front/login.html';\r\n                }\r\n            }).catch((e) => {\r\n                console.log(e)\r\n            })\r\n        }\r\n    };\r\n\r\n    registerBtn.addEventListener('click', registerUser);\r\n}\r\n\r\n\r\n\r\n// Login page\r\nconst loginPage = document.getElementById('loginPage');\r\n\r\nif (!!loginPage) {\r\n    const login = () => {\r\n        let email = document.getElementById('loginEmail').value;\r\n        let password = document.getElementById('loginPassword').value;\r\n        console.log('email', email, 'password', password)\r\n        let body = {\r\n            email: email,\r\n            password: password,\r\n        }\r\n        fetch('http://localhost:3000/instagram/user/login', {\r\n            method: 'POST',\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then((header) => {\r\n            console.log(header);\r\n\r\n            if (!header.ok) {\r\n                throw Error(header);\r\n            }\r\n\r\n            let token = header.headers.get('x-auth');\r\n            localStorage.setItem('x-auth', token);\r\n            console.log(token);\r\n        }).then((response) => {\r\n            // alert('Login successful')\r\n            window.location.href = '../front/index.html';\r\n        }).catch((e) => {\r\n            console.log(e);\r\n            // alert('Login failed');\r\n        })\r\n\r\n\r\n    }\r\n\r\n    const loginBtn = document.getElementById('loginSubmitBtn');\r\n\r\n    loginBtn.addEventListener('click', login);\r\n}\r\n\r\n\r\n// Comments page\r\n\r\nconst commentsPage = document.getElementById('commentsPage');\r\n\r\nif (!!commentsPage) {\r\n    const backBtn = document.getElementById('commentsBackBtn');\r\n\r\n    backBtn.addEventListener('click', () => {\r\n        window.location.href = \"index.html\";\r\n    })\r\n}"]}